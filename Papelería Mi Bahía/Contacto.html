<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        header {
            background-color: #2c3e50;
            color: white;
            padding: 1rem;
            text-align: center;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Contacto Papelería Mi Bahía</h1>
            <div class="barra-de-navegación">
                <a href="index.html">Inicio</a> |
                <a href="Productos.html">Productos</a> |
                <a href="Contacto.html">Contacto</a>
            </div>
        </header>

        <main>
            <section style="margin-top:1rem;">
                <h2>Envíanos un mensaje</h2>
                <p>Introduce el correo al que quieres enviar el mensaje (tu cliente de correo se abrirá para completar el envío).</p>

                <form id="contactForm">
                    <label for="toEmail">Correo destino</label><br>
                    <input type="email" id="toEmail" name="toEmail" placeholder="cliente@ejemplo.com" required style="width:100%;padding:0.5rem;margin:0.5rem 0;">

                    <label for="subject">Asunto</label><br>
                    <input type="text" id="subject" name="subject" placeholder="Asunto" style="width:100%;padding:0.5rem;margin:0.5rem 0;">

                    <label for="message">Mensaje</label><br>
                    <textarea id="message" name="message" rows="6" placeholder="Escribe tu mensaje aquí..." style="width:100%;padding:0.5rem;margin:0.5rem 0;" required></textarea>

                    <div style="display:flex;gap:0.5rem;align-items:center;">
                        <button type="submit" class="btn">Enviar por correo</button>
                        <button type="button" id="clearBtn" class="btn" style="background:#95a5a6;">Limpiar</button>
                        <span id="status" style="margin-left:1rem;color:#e74c3c;"></span>
                    </div>
                </form>
                
                <p style="margin-top:1rem;color:#555;">Nota: Este formulario usa la función <code>mailto:</code> para abrir el cliente de correo predeterminado del usuario con el correo, asunto y mensaje rellenados. Si el usuario no tiene cliente configurado, se abrirá el servicio asociado (por ejemplo, una aplicación de correo) o no ocurrirá nada.</p>
            </section>
        </main>
    </div>

    <script>
        function validateEmail(email) {
            // simple email regex
            return /\S+@\S+\.\S+/.test(email);
        }

        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const to = document.getElementById('toEmail').value.trim();
            const subject = document.getElementById('subject').value.trim();
            const message = document.getElementById('message').value.trim();
            const status = document.getElementById('status');
            status.textContent = '';

            if (!validateEmail(to)) {
                status.textContent = 'Introduce un correo válido.';
                return;
            }

            // encode components
            const mailto = `mailto:${encodeURIComponent(to)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(message)}`;

            // open mailto - this will use the user's mail client
            window.location.href = mailto;

            // optionally show a confirmation message
            status.style.color = '#27ae60';
            status.textContent = 'Se ha abierto tu cliente de correo. Completa y envía el mensaje allí.';
        });

        document.getElementById('clearBtn').addEventListener('click', function() {
            document.getElementById('toEmail').value = '';
            document.getElementById('subject').value = '';
            document.getElementById('message').value = '';
            document.getElementById('status').textContent = '';
        });
    </script>
</body>
</html>